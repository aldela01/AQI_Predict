{
  "metrics": {
    "train": {
      "rmse": 6.385105448593241,
      "r2": 0.6904526155586972
    },
    "test": {
      "rmse": 6.795527124917244,
      "r2": 0.31062063829073583
    },
    "val": {
      "rmse": 8.11702043681619,
      "r2": 0.41472836018166304
    }
  },
  "train_time_sec": 95.10409116744995,
  "num_features": 146,
  "num_train_samples": 14255,
  "num_test_samples": 6646,
  "num_val_samples": 2820,
  "feature_names": [
    "BAR-TORR__PM2.5",
    "MED-ARAN__PM2.5",
    "CEN-TRAF__PM2.5",
    "MED-BEME__PM2.5",
    "SAB-RAME__PM2.5",
    "CAL-JOAR__PM2.5",
    "hour",
    "dayofweek",
    "month",
    "dayofyear",
    "hour_sin",
    "hour_cos",
    "doy_sin",
    "doy_cos",
    "BAR-TORR__PM2.5_lag1",
    "BAR-TORR__PM2.5_lag2",
    "BAR-TORR__PM2.5_lag3",
    "BAR-TORR__PM2.5_lag6",
    "BAR-TORR__PM2.5_lag12",
    "BAR-TORR__PM2.5_lag24",
    "BAR-TORR__PM2.5_lag48",
    "BAR-TORR__PM2.5_lag72",
    "BAR-TORR__PM2.5_lag168",
    "BAR-TORR__PM2.5_lag336",
    "BAR-TORR__PM2.5_lag720",
    "MED-ARAN__PM2.5_lag1",
    "MED-ARAN__PM2.5_lag2",
    "MED-ARAN__PM2.5_lag3",
    "MED-ARAN__PM2.5_lag6",
    "MED-ARAN__PM2.5_lag12",
    "MED-ARAN__PM2.5_lag24",
    "MED-ARAN__PM2.5_lag48",
    "MED-ARAN__PM2.5_lag72",
    "MED-ARAN__PM2.5_lag168",
    "MED-ARAN__PM2.5_lag336",
    "MED-ARAN__PM2.5_lag720",
    "CEN-TRAF__PM2.5_lag1",
    "CEN-TRAF__PM2.5_lag2",
    "CEN-TRAF__PM2.5_lag3",
    "CEN-TRAF__PM2.5_lag6",
    "CEN-TRAF__PM2.5_lag12",
    "CEN-TRAF__PM2.5_lag24",
    "CEN-TRAF__PM2.5_lag48",
    "CEN-TRAF__PM2.5_lag72",
    "CEN-TRAF__PM2.5_lag168",
    "CEN-TRAF__PM2.5_lag336",
    "CEN-TRAF__PM2.5_lag720",
    "MED-BEME__PM2.5_lag1",
    "MED-BEME__PM2.5_lag2",
    "MED-BEME__PM2.5_lag3",
    "MED-BEME__PM2.5_lag6",
    "MED-BEME__PM2.5_lag12",
    "MED-BEME__PM2.5_lag24",
    "MED-BEME__PM2.5_lag48",
    "MED-BEME__PM2.5_lag72",
    "MED-BEME__PM2.5_lag168",
    "MED-BEME__PM2.5_lag336",
    "MED-BEME__PM2.5_lag720",
    "SAB-RAME__PM2.5_lag1",
    "SAB-RAME__PM2.5_lag2",
    "SAB-RAME__PM2.5_lag3",
    "SAB-RAME__PM2.5_lag6",
    "SAB-RAME__PM2.5_lag12",
    "SAB-RAME__PM2.5_lag24",
    "SAB-RAME__PM2.5_lag48",
    "SAB-RAME__PM2.5_lag72",
    "SAB-RAME__PM2.5_lag168",
    "SAB-RAME__PM2.5_lag336",
    "SAB-RAME__PM2.5_lag720",
    "CAL-JOAR__PM2.5_lag1",
    "CAL-JOAR__PM2.5_lag2",
    "CAL-JOAR__PM2.5_lag3",
    "CAL-JOAR__PM2.5_lag6",
    "CAL-JOAR__PM2.5_lag12",
    "CAL-JOAR__PM2.5_lag24",
    "CAL-JOAR__PM2.5_lag48",
    "CAL-JOAR__PM2.5_lag72",
    "CAL-JOAR__PM2.5_lag168",
    "CAL-JOAR__PM2.5_lag336",
    "CAL-JOAR__PM2.5_lag720",
    "BAR-TORR__PM2.5_rollmean1",
    "BAR-TORR__PM2.5_rollmean2",
    "BAR-TORR__PM2.5_rollmean3",
    "BAR-TORR__PM2.5_rollmean6",
    "BAR-TORR__PM2.5_rollmean12",
    "BAR-TORR__PM2.5_rollmean24",
    "BAR-TORR__PM2.5_rollmean48",
    "BAR-TORR__PM2.5_rollmean72",
    "BAR-TORR__PM2.5_rollmean168",
    "BAR-TORR__PM2.5_rollmean336",
    "BAR-TORR__PM2.5_rollmean720",
    "MED-ARAN__PM2.5_rollmean1",
    "MED-ARAN__PM2.5_rollmean2",
    "MED-ARAN__PM2.5_rollmean3",
    "MED-ARAN__PM2.5_rollmean6",
    "MED-ARAN__PM2.5_rollmean12",
    "MED-ARAN__PM2.5_rollmean24",
    "MED-ARAN__PM2.5_rollmean48",
    "MED-ARAN__PM2.5_rollmean72",
    "MED-ARAN__PM2.5_rollmean168",
    "MED-ARAN__PM2.5_rollmean336",
    "MED-ARAN__PM2.5_rollmean720",
    "CEN-TRAF__PM2.5_rollmean1",
    "CEN-TRAF__PM2.5_rollmean2",
    "CEN-TRAF__PM2.5_rollmean3",
    "CEN-TRAF__PM2.5_rollmean6",
    "CEN-TRAF__PM2.5_rollmean12",
    "CEN-TRAF__PM2.5_rollmean24",
    "CEN-TRAF__PM2.5_rollmean48",
    "CEN-TRAF__PM2.5_rollmean72",
    "CEN-TRAF__PM2.5_rollmean168",
    "CEN-TRAF__PM2.5_rollmean336",
    "CEN-TRAF__PM2.5_rollmean720",
    "MED-BEME__PM2.5_rollmean1",
    "MED-BEME__PM2.5_rollmean2",
    "MED-BEME__PM2.5_rollmean3",
    "MED-BEME__PM2.5_rollmean6",
    "MED-BEME__PM2.5_rollmean12",
    "MED-BEME__PM2.5_rollmean24",
    "MED-BEME__PM2.5_rollmean48",
    "MED-BEME__PM2.5_rollmean72",
    "MED-BEME__PM2.5_rollmean168",
    "MED-BEME__PM2.5_rollmean336",
    "MED-BEME__PM2.5_rollmean720",
    "SAB-RAME__PM2.5_rollmean1",
    "SAB-RAME__PM2.5_rollmean2",
    "SAB-RAME__PM2.5_rollmean3",
    "SAB-RAME__PM2.5_rollmean6",
    "SAB-RAME__PM2.5_rollmean12",
    "SAB-RAME__PM2.5_rollmean24",
    "SAB-RAME__PM2.5_rollmean48",
    "SAB-RAME__PM2.5_rollmean72",
    "SAB-RAME__PM2.5_rollmean168",
    "SAB-RAME__PM2.5_rollmean336",
    "SAB-RAME__PM2.5_rollmean720",
    "CAL-JOAR__PM2.5_rollmean1",
    "CAL-JOAR__PM2.5_rollmean2",
    "CAL-JOAR__PM2.5_rollmean3",
    "CAL-JOAR__PM2.5_rollmean6",
    "CAL-JOAR__PM2.5_rollmean12",
    "CAL-JOAR__PM2.5_rollmean24",
    "CAL-JOAR__PM2.5_rollmean48",
    "CAL-JOAR__PM2.5_rollmean72",
    "CAL-JOAR__PM2.5_rollmean168",
    "CAL-JOAR__PM2.5_rollmean336",
    "CAL-JOAR__PM2.5_rollmean720"
  ],
  "config": {
    "csv_path": "siata_merged_data.csv",
    "datetime_col": "Fecha_Hora",
    "target_col": "BAR-TORR__PM2.5",
    "freq": "1h",
    "out_steps": 24,
    "lags": [
      1,
      2,
      3,
      6,
      12,
      24,
      48,
      72,
      168,
      336,
      720
    ],
    "rolling_windows": [
      1,
      2,
      3,
      6,
      12,
      24,
      48,
      72,
      168,
      336,
      720
    ],
    "use_cyclical_time": true,
    "time_features_at": "t",
    "lag_other_cols": null,
    "missing_col_threshold": 0.5,
    "auxiliary_stations": [
      "MED-ARAN",
      "MED-BEME",
      "SAB-RAME",
      "CEN-TRAF",
      "CAL-JOAR"
    ],
    "train_start": "2019-01-01",
    "train_end": "2021-12-31",
    "test_start": "2022-01-01",
    "test_end": "2023-12-31",
    "val_start": "2024-01-01",
    "val_end": "2024-12-31",
    "seq_len": 168,
    "impute_strategy": "mean",
    "scale_features": true,
    "scale_target": true,
    "use_seasonal_baseline": true,
    "seasonal_use_month": true,
    "winsorize_pm25": true,
    "winsor_lower_q": 0.005,
    "winsor_upper_q": 0.995,
    "num_lstm_layers": 3,
    "lstm_units": [
      128,
      64,
      64
    ],
    "bidirectional": false,
    "dropout": 0.1,
    "recurrent_dropout": 0.0,
    "l2_reg": 0.01,
    "dense_units": [
      64,
      32
    ],
    "dense_activation": "relu",
    "dense_dropout": 0.01,
    "output_activation": null,
    "batch_size": 64,
    "epochs": 80,
    "learning_rate": 0.0001,
    "optimizer": "adam",
    "loss": "mse",
    "shuffle": true,
    "shuffle_buffer": 20000,
    "use_tf_dataset": true,
    "use_early_stopping": true,
    "early_stopping_patience": 12,
    "early_stopping_min_delta": 0.0001,
    "use_reduce_lr": true,
    "reduce_lr_patience": 6,
    "reduce_lr_factor": 0.5,
    "reduce_lr_min_lr": 1e-06,
    "best_monitor": "val_r2",
    "best_mode": "max",
    "seed": 42,
    "use_mixed_precision": false,
    "use_xla": false,
    "enable_gpu_memory_growth": true,
    "use_mlflow": true,
    "mlflow_experiment": "AQI_LSTM_Forecasting",
    "mlflow_run_name": "lstm_forecast_run",
    "compute_feature_importance": true,
    "feature_importance_split": "val",
    "feature_importance_metric": "r2",
    "feature_importance_max_features": 50,
    "feature_importance_n_repeats": 1,
    "feature_importance_seed": 42,
    "output_dir": "lstm_results",
    "model_dir": "models"
  },
  "winsor_limits": {
    "BAR-TORR__PM2.5": [
      -23.314824709420318,
      33.05681920653887
    ],
    "COP-CVID__PM2.5": [
      0.0,
      62.36393599999996
    ],
    "BEL-FEVE__PM2.5": [
      0.0,
      58.095236
    ],
    "MED-ARAN__PM2.5": [
      1.2192847,
      69.5106240000004
    ],
    "MED-SCRI__PM2.5": [
      0.5,
      56.07125899999992
    ],
    "MED-VILL__PM2.5": [
      0.0,
      65.51465500000012
    ],
    "CEN-TRAF__PM2.5": [
      3.0,
      79.0
    ],
    "MED-BEME__PM2.5": [
      0.0,
      64.18234749999992
    ],
    "MED-SELE__PM2.5": [
      0.0,
      54.54270999999991
    ],
    "MED-ALTA__PM2.5": [
      0.5,
      63.12347999999982
    ],
    "MED-TESO__PM2.5": [
      0.0,
      60.32854000000006
    ],
    "ITA-CJUS__PM2.5": [
      3.0,
      70.0
    ],
    "MED-LAYE__PM2.5": [
      0.5,
      73.0
    ],
    "ITA-CONC__PM2.5": [
      2.0,
      62.0
    ],
    "ENV-HOSP__PM2.5": [
      0.5,
      59.96771900000003
    ],
    "EST-HOSP__PM2.5": [
      1.0,
      60.0
    ],
    "SAB-RAME__PM2.5": [
      0.0,
      62.39656799999986
    ],
    "CAL-JOAR__PM2.5": [
      0.5,
      64.96842600000033
    ]
  }
}